<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script type="text/javascript" src="/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="/js/vuejs-2.5.16.js"></script>
    <script type="text/javascript" src="/js/axios-0.18.0.js"></script>
    <link href="/css/login.css" rel="stylesheet" type="text/css" />

</head>
<body>
<div id="app">
    <h1>客户关系管理系统-用户登录<sup>2019</sup></h1>

    <div class="login" style="margin-top:50px;">

        <div class="header">
            <div class="switch" id="switch">
                <a class="switch_btn_focus" id="switch_qlogin" href="javascript:void(0);" tabindex="7">快速登录</a>
                <!-- <a class="switch_btn" id="switch_login" href="javascript:void(0);" tabindex="8">快速注册</a><div class="switch_bottom" id="switch_bottom" style="position: absolute; width: 64px; left: 0px;"></div> -->
                <span style="color: red"></span>
            </div>

        </div>

        <div class="web_qr_login" id="web_qr_login" style="display: block; height: 235px;">
            <!--登录-->
            <div class="web_login" id="web_login">
                <div class="login-box">
                    <div class="login_form">
                        <div  name="loginform"  id="login_form" class="loginForm">
                            <input type="hidden" name="did" value="0"/>
                            <input type="hidden" name="to" value="log"/>

                            <div class="uinArea" id="uinArea">
                                <label class="input-tips" for="u">帐号：</label>
                                <div class="inputOuter" id="uArea">
                                    <input type="text" id="u" v-model="formData.username" name="username" class="inputstyle"/>
                                </div>
                            </div>

                            <div class="pwdArea" id="pwdArea">
                                <label class="input-tips" for="p">密码：</label>
                                <div class="inputOuter" id="pArea">
                                    <input type="password" id="p" v-model="formData.password"  name="password" class="inputstyle"/>
                                </div>
                            </div>

                            <div style="padding-left:50px;margin-top:20px;">
                                <input type="submit" value="登 录" style="width:150px;" @click="login()" class="button_blue"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--登录end-->
        </div>
    </div>
    <div class="jianyi">*推荐使用ie8或以上版本ie浏览器或Chrome内核浏览器访问本站</div>
</div>
</body>
</html>
<script>
    var vue = new Vue({
        el:"#app",
        data:{
            formData:{}
        },
        methods:{
            login:function () {
                axios.post("/login/loginIn.do",this.formData).then((res)=>{
                    if(res.data.flag){
                        console.log(res.data.data.username);
                        window.location = "index.html?username="+res.data.data.username;
                    }
                })
            }
        },
        created:function () {

        }
    })
</script>